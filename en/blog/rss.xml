<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>My Site Blog</title>
        <link>https://note.paopaozhi.ltd/en/blog</link>
        <description>My Site Blog</description>
        <lastBuildDate>Mon, 08 Jul 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://note.paopaozhi.ltd/en/blog/welcome</link>
            <guid>https://note.paopaozhi.ltd/en/blog/welcome</guid>
            <pubDate>Mon, 08 Jul 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[欢迎来到，我的博客]]></description>
            <content:encoded><![CDATA[<p>欢迎来到，我的博客</p>
<p>我会分享我的开发和学习心得，希望可以帮助到你。</p>
<hr>
<p>构建历程</p>
<ul>
<li>2022年使用<a href="https://www.mkdocs.org/" target="_blank" rel="noopener noreferrer">mkdocs</a>构建</li>
<li>2024年7月8日，迁移到 <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer"><strong>Docusaurus 3</strong></a> 搭建。</li>
</ul>]]></content:encoded>
            <category>Hello</category>
        </item>
        <item>
            <title><![CDATA[AC6串口重定向]]></title>
            <link>https://note.paopaozhi.ltd/en/blog/2022/08/01/keil_串口重定向</link>
            <guid>https://note.paopaozhi.ltd/en/blog/2022/08/01/keil_串口重定向</guid>
            <pubDate>Mon, 01 Aug 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[1.串口重定义，AC6和AC5有所不同。直接贴出写好的代码，不使用miscoLib]]></description>
            <content:encoded><![CDATA[<p>1.串口重定义，AC6和AC5有所不同。直接贴出写好的代码，不使用miscoLib</p>
<div class="language-C language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">AC6_ENABLE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">AC6_ENABLE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//加入以下代码,支持printf函数,而不需要选择use MicroLIB	</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">__ASM</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">".global __use_no_semihosting"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">else</span><span class="token macro property" style="color:#36acaa">                                                       </span><span class="token macro property comment" style="color:#999988;font-style:italic">//AC5_ENABLE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//#define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)	</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">import</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">__use_no_semihosting</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa">             </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//标准库需要的支持函数                 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">__FILE</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> handle</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FILE __stdout</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//定义_sys_exit()以避免使用半主机模式    </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_sys_exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//重定义fputc函数 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fputc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> FILE </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> 	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">USART1</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">SR</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token number" style="color:#36acaa">0X40</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">==</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//循环发送,直到发送完毕   </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	USART1</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">DR </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">u8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ch</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.移植LWIP的时候，直接报错，找不到sys_timeout()函数。这里需要修改两个地方，首先在LwIP\system\arch\CC.h文件中，注释掉以下两条，如果使用cubemx生成，则每次生成时，都需要把这里注释。</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">LWIP_PROVIDE_ERRNO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">if</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">defined</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">__GNUC__</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&amp;</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">!</span><span class="token macro property expression function" style="color:#d73a49">defined</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">__CC_ARM</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//#define LWIP_TIMEVAL_PRIVATE 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//#include &lt;sys/time.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其次，在lwip.h中，需要添加一个宏定义 #define __CC_ARM</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* Includes for RTOS ---------------------------------------------------------*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">if</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">WITH_RTOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">"lwip/tcpip.h"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property comment" style="color:#999988;font-style:italic">/* WITH_RTOS */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* USER CODE BEGIN 0 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">__CC_ARM</span><span class="token macro property" style="color:#36acaa">          </span><span class="token macro property comment" style="color:#999988;font-style:italic">//AC6编译器才添加的宏定义</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* USER CODE END 0 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* Global Variables ----------------------------------------------------------*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">extern</span><span class="token plain"> ETH_HandleTypeDef heth</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>嵌入式</category>
        </item>
        <item>
            <title><![CDATA[使用Clion优雅的开发嵌入式]]></title>
            <link>https://note.paopaozhi.ltd/en/blog/2022/04/16/使用Clion优雅的开发嵌入式</link>
            <guid>https://note.paopaozhi.ltd/en/blog/2022/04/16/使用Clion优雅的开发嵌入式</guid>
            <pubDate>Sat, 16 Apr 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[需要的环境]]></description>
            <content:encoded><![CDATA[<p>需要的环境</p>
<ul>
<li>gcc-arm-none-eabi（编译代码生成下载固件）</li>
<li>OpenOCD（下载固件）</li>
<li>STM32CubeMX（生成初始代码）</li>
</ul>
<h1>配置环境</h1>
<p><a href="https://pic2.zhimg.com/80/v2-1f20aa45b28606d1ac2d49e752465b75_1440w.webp" target="_blank" rel="noopener noreferrer">https://pic2.zhimg.com/80/v2-1f20aa45b28606d1ac2d49e752465b75_1440w.webp</a></p>
<p>1.下载gcc-arm-none-eabi</p>
<p>官网地址：<a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads" target="_blank" rel="noopener noreferrer">https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads</a></p>
<p>官方下载链接：<a href="https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-win32.zip" target="_blank" rel="noopener noreferrer">https://developer.arm.com/-/media/Files/downloads/gnu-rm/10.3-2021.10/gcc-arm-none-eabi-10.3-2021.10-win32.zip</a></p>
<p>网盘地址：</p>
<p>2.下载OpenOCD</p>
<p>下载站地址：<a href="https://gnutoolchains.com/arm-eabi/openocd/" target="_blank" rel="noopener noreferrer">Download OpenOCD for Windows (gnutoolchains.com)</a></p>
<p>下载连接：<a href="https://sysprogs.com/getfile/1748/openocd-20211118.7z" target="_blank" rel="noopener noreferrer">https://sysprogs.com/getfile/1748/openocd-20211118.7z</a></p>
<p>网盘地址：</p>
<p>3.下载STM32CubeMX</p>
<p>官网地址：<a href="https://www.st.com/zh/development-tools/stm32cubemx.html" target="_blank" rel="noopener noreferrer">STM32CubeMX - STM32Cube初始化代码生成器 - STMicroelectronics</a></p>
<p>网盘地址：</p>
<p>4.将gcc-arm-none-eabi、OpenOCD加入环境变量</p>
<h1>下载Clion</h1>
<p>1.官网下载clion<a href="https://www.jetbrains.com/zh-cn/clion/download/download-thanks.html?platform=windows" target="_blank" rel="noopener noreferrer">下载地址</a></p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161613607.png" alt="image-20220416161329445" class="img_ev3q"></p>
<p>2.安装clion</p>
<p>3.启动clion安装中文插件</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161615000.png" alt="image-20220416161557930" class="img_ev3q"></p>
<p>选择<strong>红色</strong>框框的那个</p>
<p>安装好后，需要重启IDE</p>
<h1>使用clion点亮一个灯</h1>
<p>1.使用stm32cubx初始化代码（这里使用stm32f103c8作为示例）</p>
<p>如何使用stm32cubx就不在这里演示了</p>
<p>只贴出注意事件</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161622566.png" alt="image-20220416162251433" class="img_ev3q"></p>
<p>2.使用clion打开</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161627880.png" alt="image-20220416162739822" class="img_ev3q"></p>
<p>打开工程</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161628785.png" alt="image-20220416162837724" class="img_ev3q"></p>
<p>点击确定</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161629664.png" alt="image-20220416162902543" class="img_ev3q"></p>
<p>然后就和普通的嵌入式开发差不多了</p>
<p>我们在这里简单的写个闪烁灯的程序</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161658148.png" alt="image-20220416165808011" class="img_ev3q"></p>
<p>点击那个小锤子的按钮就可以编译了</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161658629.png" alt="image-20220416165821499" class="img_ev3q"></p>
<p>编译成功，显示目标文件大小</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161659831.png" alt="image-20220416165914704" class="img_ev3q"></p>
<p>3.下载到开发板上</p>
<p>编辑面板配置文件</p>
<p>在项目目录下创建一个以.cfg为后缀的文件</p>
<p>打开后，写OpenOCD配置文件，在这里给出使用stlink的配置文件</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source [find interface/stlink-v2.cfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport select hla_swd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source [find target/stm32f1.cfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reset_config none</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>编辑运行配置</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161700693.png" alt="image-20220416170052565" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161715940.png" alt="image-20220416171544870" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161715541.png" alt="image-20220416171514450" class="img_ev3q"></p>
<p>选择下载的固件</p>
<p><img decoding="async" loading="lazy" src="http://picture.luckstare.ltd/202204161723424.png" alt="image-20220416172304345" class="img_ev3q"></p>
<p>点击右上角的小三角即可下载固件</p>
<p>下载成功会提示下载成功</p>]]></content:encoded>
            <category>嵌入式</category>
        </item>
        <item>
            <title><![CDATA[python实现博客的自动更新]]></title>
            <link>https://note.paopaozhi.ltd/en/blog/2022/04/12/git自动化部署</link>
            <guid>https://note.paopaozhi.ltd/en/blog/2022/04/12/git自动化部署</guid>
            <pubDate>Tue, 12 Apr 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[1.准备python文件]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1准备python文件">1.准备python文件<a class="hash-link" aria-label="Direct link to 1.准备python文件" title="Direct link to 1.准备python文件" href="https://note.paopaozhi.ltd/en/blog/2022/04/12/git%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2#1%E5%87%86%E5%A4%87python%E6%96%87%E4%BB%B6">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> calendar </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> subprocess </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> getoutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localtime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getoutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"cd /www/wwwroot/wiki.paopaozhiiot.cn"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getoutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ls -l"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit_local </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getoutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"git log"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit_local </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> commit_local</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit_local </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> commit_local</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commit_local</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://gitee.com/api/v5/repos/paopaozhi/paopaozhi/branches/main?"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"access_token"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"c0082ee42eb4ef916bd44a1d0179ef81"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">params</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">commit_far </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"commit"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"sha"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">commit_far</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> commit_far </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> commit_local</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"无更新！"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ii </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> getoutput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"git pull gitee"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ii</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2启动cron服务">2.启动cron服务<a class="hash-link" aria-label="Direct link to 2.启动cron服务" title="Direct link to 2.启动cron服务" href="https://note.paopaozhi.ltd/en/blog/2022/04/12/git%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2#2%E5%90%AF%E5%8A%A8cron%E6%9C%8D%E5%8A%A1">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3使用crontab--e-编辑定时任务">3.使用crontab -e 编辑定时任务<a class="hash-link" aria-label="Direct link to 3.使用crontab -e 编辑定时任务" title="Direct link to 3.使用crontab -e 编辑定时任务" href="https://note.paopaozhi.ltd/en/blog/2022/04/12/git%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2#3%E4%BD%BF%E7%94%A8crontab--e-%E7%BC%96%E8%BE%91%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">​</a></h2>
<p>在文件尾部添加</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* * * * * &lt;解释器路径&gt; &lt;脚本文件路径&gt; &gt;&gt;  &lt;重定向日志路径&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>第一次使用会让你选择使用的编辑器</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4重启cron-service">4.重启cron service<a class="hash-link" aria-label="Direct link to 4.重启cron service" title="Direct link to 4.重启cron service" href="https://note.paopaozhi.ltd/en/blog/2022/04/12/git%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2#4%E9%87%8D%E5%90%AFcron-service">​</a></h2>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo service cron restart  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5通过查看日志了解程序运行情况">5.通过查看日志了解程序运行情况<a class="hash-link" aria-label="Direct link to 5.通过查看日志了解程序运行情况" title="Direct link to 5.通过查看日志了解程序运行情况" href="https://note.paopaozhi.ltd/en/blog/2022/04/12/git%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2#5%E9%80%9A%E8%BF%87%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97%E4%BA%86%E8%A7%A3%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5">​</a></h2>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vim &lt;重定向日志路径&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="Alt text" src="https://note.paopaozhi.ltd/en/assets/images/202204122104385-17822e50eac56fad7ceec4d71e5f2ca7.png" width="1726" height="958" class="img_ev3q"></p>]]></content:encoded>
            <category>Python</category>
        </item>
    </channel>
</rss>