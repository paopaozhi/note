# 定时器-PWM

## PWM输出极性

PWM（脉宽调制）输出极性是指PWM信号在高电平和低电平之间的切换方式。PWM输出极性可以分为高极性和低极性，这两种极性决定了PWM信号的实际输出电平。

**高极性和低极性的定义**

- **高极性**：当PWM信号为高极性时，输出的高电平表示有效电平，低电平表示无效电平。
- **低极性**：当PWM信号为低极性时，输出的低电平表示有效电平，高电平表示无效电平。

**PWM模式1和模式2**

STM32的PWM有两种输出模式：PWM模式1和PWM模式。

- **PWM模式1**： 向上计数时，当TIMx_CNT < TIMx_CCR1时，通道1为有效电平；否则为无效电平。 向下计数时，当TIMx_CNT > TIMx_CCR1时，通道1为无效电平；否则为有效电平。
- **PWM模式2**： 向上计数时，当TIMx_CNT < TIMx_CCR1时，通道1为无效电平；否则为有效电平。 向下计数时，当TIMx_CNT > TIMx_CCR1时，通道1为有效电平；否则为无效电平。

**输出极性与PWM模式的关系**

输出极性和PWM模式共同决定了PWM信号的实际输出电平。

- **PWM模式1**： 高极性：TIMx_CNT < TIMx_CCR时输出高电平，TIMx_CNT > TIMx_CCR时输出低电平。 低极性：TIMx_CNT < TIMx_CCR时输出低电平，TIMx_CNT > TIMx_CCR时输出高电平。
- **PWM模式2**： 高极性：TIMx_CNT < TIMx_CCR时输出低电平，TIMx_CNT > TIMx_CCR时输出高电平。 低极性：TIMx_CNT < TIMx_CCR时输出高电平，TIMx_CNT > TIMx_CCR时输出低电平。

**实际应用**

在实际应用中，选择合适的PWM模式和输出极性可以实现不同的控制效果。例如，如果LED灯是低电平有效的，那么可以选择低极性和PWM模式1，这样随着占空比的增加，LED灯的亮度会增加。